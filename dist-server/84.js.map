{"version":3,"sources":["./src/app/stocks/services/socket-service.service.ts","./src/app/stocks/stocks-routing-routing.module.ts","./src/app/stocks/stocks.module.ts","./src/app/stocks/stocks/stocks-item/stocks-item.component.ts","./src/app/stocks/stocks/stocks-item/stocks-item.component.html","./src/app/stocks/stocks/stocks.component.ts","./src/app/stocks/stocks/stocks.component.html","./src/app/stocks/store/stocks/stocks.actions.ts","./src/app/stocks/store/stocks/stocks.effects.ts","./src/app/stocks/store/stocks/stocks.reducer.ts","./src/app/stocks/store/stocks/stocks.selectors.ts","./src/app/store/router/router.selectors.ts","/home/ultra/Desktop/currproj/Angular_sockets/node_modules/moment/locale|sync|/^\\.\\/.*$/"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0B","file":"84.js","sourcesContent":["import { isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { Observable } from 'rxjs';\n//import { Socket } from 'ngx-socket-io';\n\nimport { filter } from 'rxjs/operators';\nimport { Socket,io } from 'socket.io-client';\nimport { Stock } from '../models/stock';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  private socket: any;\n  constructor(\n    @Inject(PLATFORM_ID) private readonly _platformId: Object,\n    ) {\n      if(isPlatformBrowser(this._platformId)){\n        this.socket = io(\"https://stocks-socket-server.herokuapp.com/\")\n      }\n     }\n\n  startSending(){\n    this.socket.emit('start')\n  }\n  getStocks() {\n    // return this.socket.fromEvent<Stock[]>('ticker').pipe(\n    //   filter(() => isPlatformBrowser(this._platformId))\n    // );\n    return new Observable<Stock[]>(\n      observer =>{\n        this.socket.on('ticker', (tickers: Stock[]) => observer.next(tickers))\n      }\n    )\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StocksItemComponent } from './stocks/stocks-item/stocks-item.component';\nimport { StocksComponent } from './stocks/stocks.component';\n\nconst routes: Routes = [\n  {path: '', component: StocksComponent},\n  {path: ':ticker', component: StocksItemComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class StocksRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { StocksComponent } from './stocks/stocks.component';\nimport { StocksRoutingModule } from './stocks-routing-routing.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { StocksItemComponent } from './stocks/stocks-item/stocks-item.component';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { stocksReducer, STOCKS_REDUCER_NODE } from './store/stocks/stocks.reducer';\nimport { StockEffects } from './store/stocks/stocks.effects';\nimport { ChartsModule } from 'ng2-charts'\n\n\n@NgModule({\n  declarations: [StocksComponent, StocksItemComponent],\n  imports: [\n    CommonModule,\n    StocksRoutingModule,\n    MatIconModule,\n    MatProgressSpinnerModule,\n    FormsModule,\n    ReactiveFormsModule,\n    StoreModule.forFeature(STOCKS_REDUCER_NODE,stocksReducer),\n    EffectsModule.forFeature([StockEffects]),\n    ChartsModule\n  ],\n  providers:[DatePipe]\n})\nexport class StocksModule { }\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { selectParamTicker } from 'src/app/store/router/router.selectors';\nimport { ChartOptions } from 'chart.js';\nimport { Color, Label } from 'ng2-charts';\nimport { selectFeatureStockHistory } from '../../store/stocks/stocks.selectors';\nimport { withLatestFrom, map, filter, tap } from 'rxjs/operators';\nimport { DatePipe, isPlatformBrowser } from '@angular/common';\nimport { StocksHistory } from '../../models/stock';\n\n\n@Component({\n  selector: 'app-stocks-item',\n  templateUrl: './stocks-item.component.html',\n  styleUrls: ['./stocks-item.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StocksItemComponent {\n  routerParam$: Observable<string | undefined> =\n    this.store$.select(selectParamTicker);\n\n  history$ = this.store$\n    .select(selectFeatureStockHistory)\n    .pipe(withLatestFrom(this.routerParam$))\n    .pipe(\n      filter(\n        ([history, routerParam]: [StocksHistory, string | undefined]) =>\n          Boolean(history) && Boolean(routerParam)\n      ),\n      map(([history, routerParam]) => history[routerParam!].slice(-10))\n    );\n\n  lineChartData$ = this.history$\n    .pipe(\n      filter(() => isPlatformBrowser(this._platformId)),\n      map( historyArray => {\n        return [\n          {\n            data: historyArray.map((historyItem) => historyItem.price),\n            label: historyArray.map( historyItem => historyItem.ticker).slice(0)[0],\n          },\n        ];\n      })\n    );\n\n  lineChartLabels$ = this.history$\n    .pipe(\n      map( historyArray => {\n        return historyArray.map((historyItem) => this.datePipe.transform(historyItem.last_trade_time, 'h:mm:ss a')!\n        );\n      }),\n    );\n\n  lineChartColors: Color[] = [\n    {\n      borderColor: 'black',\n      backgroundColor: 'rgba(255,255,0,0.28)',\n    },\n  ];\n\n  lineChartOptions: ChartOptions = { \n    responsive: true,\n    animation: {\n      duration: 0\n    },\n   }\n\n  constructor(\n    private store$: Store,\n    private datePipe: DatePipe,\n    @Inject(PLATFORM_ID) private readonly _platformId: Object\n    ) {}\n}\n\n\n","<div class=\"container\">\n    <h1>Statistic: {{routerParam$ | async}}</h1>\n    <div class=\"chart-wrapper\">\n        <canvas baseChart \n            [datasets]=\"(lineChartData$ | async)!\" \n            [labels]=\"(lineChartLabels$ | async)!\" \n            [options]=\"lineChartOptions\"\n            [colors]=\"lineChartColors\" \n            [legend]=\"true\" \n            chartType=\"line\" \n            [plugins]=\"[]\">\n        </canvas>\n    </div>\n</div>","import { isPlatformBrowser } from '@angular/common';\nimport { Component, Inject, OnInit, PLATFORM_ID } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { combineLatest, Observable } from 'rxjs';\nimport { startWith, map, filter } from 'rxjs/operators';\nimport { Stock } from '../models/stock';\nimport { SocketService } from '../services/socket-service.service';\nimport { selectFeatureStock } from '../store/stocks/stocks.selectors';\n\n@Component({\n  selector: 'app-stocks',\n  templateUrl: './stocks.component.html',\n  styleUrls: ['./stocks.component.css'],\n})\nexport class StocksComponent implements OnInit {\n  form: FormGroup = new FormGroup({});\n  stocks$: Observable<Stock[]> = new Observable<Stock[]>();\n  switchers = [\n    { ticker: 'AAPL', checked: true },\n    { ticker: 'GOOGL', checked: true },\n    { ticker: 'MSFT', checked: true },\n    { ticker: 'AMZN', checked: true },\n    { ticker: 'FB', checked: true },\n    { ticker: 'TSLA', checked: true },\n  ];\n\n  constructor(\n    private fb: FormBuilder,\n    private router: Router,\n    private store$: Store,\n    private route: ActivatedRoute,\n  ) {\n      this._formInitialize();\n  } \n\n  ngOnInit() {\n    \n    this.stocks$ = combineLatest([\n      this.store$.select(selectFeatureStock),\n      this.form.valueChanges.pipe(startWith(this.form.value)),\n    ]).pipe(\n      map(([stocks, switcherForm]) => stocks.filter((stock) => switcherForm[stock.ticker]))\n    )\n    \n\n    \n    \n  }\n\n\n\n  navigateToStockDesecription(ticker: string) {\n    this.router.navigate([ticker],{relativeTo: this.route})\n  }\n  private _formInitialize(): void {\n    this.form = this.fb.group(\n      this.switchers.reduce(\n        (group, switcher) => ({\n          ...group,\n          [switcher.ticker]: [switcher.checked],\n        }),\n        {}\n      )\n    );\n  }\n}\n","<div class=\"content\" *ngIf=\"(stocks$ | async) as stocks; else loading\">\n  <div class=\"stocks-wrap\">\n    <div class=\"stock-wrap__stock-item\" *ngFor=\"let stock of stocks\" (click)=\"navigateToStockDesecription(stock.ticker)\">\n      <span class=\"stock-wrap__name\">Ticker: {{ stock.ticker }}</span>\n      <span class=\"stock-wrap__price\">Price: {{ stock.price }}</span>\n      <span class=\"stock-wrap__date\"\n        >Last change:\n        {{ stock.last_trade_time | date: \"dd:MM:yyyy, HH:mm:ss\" }}</span\n      >\n      <div *ngIf=\"stock.yield > 1; else arrowDown\">\n        <span class=\"stock-wrap__arrowUp\">\n          <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">\n            arrow_upward\n          </mat-icon>\n        </span>\n      </div>\n      <ng-template #arrowDown>\n        <span class=\"stock-wrap__arrowDown\">\n          <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">\n            arrow_downward\n          </mat-icon>\n        </span>\n      </ng-template>\n    </div>\n  </div>\n  <div class=\"switchers\" [formGroup]=\"form\">\n    <ul>\n      <li class=\"switchers__item\" *ngFor=\"let switcher of switchers\">\n        <label>\n          <input type=\"checkbox\" [formControlName]=\"switcher.ticker\" />\n          <span class=\"switchers__label\">{{ switcher.ticker }}</span>\n        </label>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div>\n    <mat-spinner class=\"loader\"></mat-spinner>\n  </div>\n</ng-template>\n","import { createAction, props } from \"@ngrx/store\";\nimport { Stock } from \"../../models/stock\";\n\nexport const fetchStocks = createAction(\n    '[STOCKS] Fetch stocks'\n)\nexport const fetchStocksSucces = createAction(\n    '[STOCKS] Fetch stocks success',\n    props<{stocks: Stock[]}>()\n)\nexport const fetchStocksHistorySuccess = createAction(\n    '[STOCKS] Fetch stocks history success',\n    props<{stocks: Stock[]}>()\n)","import { isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { Actions, createEffect, ofType, OnInitEffects } from '@ngrx/effects';\nimport { Action } from '@ngrx/store';\nimport { of } from 'rxjs';\nimport { map, mergeMap, catchError, switchMap, toArray, tap, filter } from 'rxjs/operators';\nimport { SocketService } from '../../services/socket-service.service';\nimport {\n  fetchStocks,\n  fetchStocksHistorySuccess,\n  fetchStocksSucces,\n} from './stocks.actions';\n\n@Injectable()\nexport class StockEffects implements OnInitEffects {\n  fetchStocks$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(fetchStocks),\n      filter(() => isPlatformBrowser(this._platformId)),\n      tap(() => this.socketService.startSending()),\n      mergeMap(() =>\n        this.socketService\n          .getStocks()\n          .pipe(switchMap((stocks) => [\n            fetchStocksSucces({ stocks }), \n            fetchStocksHistorySuccess({ stocks })\n          ]))\n      )\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    @Inject(PLATFORM_ID) private readonly _platformId: Object,\n    private socketService: SocketService\n  ) {}\n\n  ngrxOnInitEffects(): Action {\n    return fetchStocks();\n  }\n}\n","import { state } from \"@angular/animations\";\nimport { createReducer, on } from \"@ngrx/store\";\nimport { Stock, StocksHistory } from \"../../models/stock\";\nimport { fetchStocksHistorySuccess, fetchStocksSucces } from \"./stocks.actions\";\n\nexport const STOCKS_REDUCER_NODE = 'stocks'\n\nexport interface StocksState {\n    stocks: Stock[];\n    stocksHistory: StocksHistory;\n}\n\nexport const initialState: StocksState = {\n    stocks: [],\n    stocksHistory: {}\n}\n\nexport const stocksReducer = createReducer(\n    initialState,\n    on(fetchStocksSucces, (state,{stocks}) => ({\n        ...state,\n        stocks: stocks,\n    })),\n    on(fetchStocksHistorySuccess, (state, {stocks}) => {\n        const newHistory = {\n            ...state.stocksHistory\n        };\n        stocks.forEach((stock) => {\n            if (newHistory[stock.ticker]) {\n                const history = newHistory[stock.ticker];\n                newHistory[stock.ticker] = [...history,stock]\n                return;\n            }\n            newHistory[stock.ticker] = [stock];\n        })\n        return {\n            ...state,\n            stocksHistory: newHistory\n        }\n}))\n","import { createFeatureSelector, createSelector } from \"@ngrx/store\";\nimport { StocksState, STOCKS_REDUCER_NODE } from \"./stocks.reducer\";\n\nexport const selectFeature = createFeatureSelector<StocksState>(STOCKS_REDUCER_NODE);\n \nexport const selectFeatureStock = createSelector(\n  selectFeature,\n  (state) => state.stocks\n);\n\nexport const selectFeatureStockHistory = createSelector(\n  selectFeature,\n  (state) => state.stocksHistory\n);","import { getSelectors, RouterReducerState } from '@ngrx/router-store';\nimport { createFeatureSelector } from '@ngrx/store';\n \nexport const selectRouter = createFeatureSelector<RouterReducerState>('router');\n\nexport const {\n  selectCurrentRoute, // select the current route\n  selectFragment, // select the current route fragment\n  selectQueryParams, // select the current route query params\n  selectQueryParam, // factory function to select a query param\n  selectRouteParams, // select the current route params\n  selectRouteParam, // factory function to select a route param\n  selectRouteData, // select the current route data\n  selectUrl, // select the current url\n} = getSelectors(selectRouter);\n\nexport const selectParamTicker = selectRouteParam('ticker')","var map = {\n\t\"./af\": 26431,\n\t\"./af.js\": 26431,\n\t\"./ar\": 81286,\n\t\"./ar-dz\": 1616,\n\t\"./ar-dz.js\": 1616,\n\t\"./ar-kw\": 9759,\n\t\"./ar-kw.js\": 9759,\n\t\"./ar-ly\": 43160,\n\t\"./ar-ly.js\": 43160,\n\t\"./ar-ma\": 62551,\n\t\"./ar-ma.js\": 62551,\n\t\"./ar-sa\": 79989,\n\t\"./ar-sa.js\": 79989,\n\t\"./ar-tn\": 6962,\n\t\"./ar-tn.js\": 6962,\n\t\"./ar.js\": 81286,\n\t\"./az\": 15887,\n\t\"./az.js\": 15887,\n\t\"./be\": 14572,\n\t\"./be.js\": 14572,\n\t\"./bg\": 3276,\n\t\"./bg.js\": 3276,\n\t\"./bm\": 93344,\n\t\"./bm.js\": 93344,\n\t\"./bn\": 58985,\n\t\"./bn-bd\": 83990,\n\t\"./bn-bd.js\": 83990,\n\t\"./bn.js\": 58985,\n\t\"./bo\": 94391,\n\t\"./bo.js\": 94391,\n\t\"./br\": 46728,\n\t\"./br.js\": 46728,\n\t\"./bs\": 5536,\n\t\"./bs.js\": 5536,\n\t\"./ca\": 41043,\n\t\"./ca.js\": 41043,\n\t\"./cs\": 70420,\n\t\"./cs.js\": 70420,\n\t\"./cv\": 33513,\n\t\"./cv.js\": 33513,\n\t\"./cy\": 6771,\n\t\"./cy.js\": 6771,\n\t\"./da\": 47978,\n\t\"./da.js\": 47978,\n\t\"./de\": 46061,\n\t\"./de-at\": 25204,\n\t\"./de-at.js\": 25204,\n\t\"./de-ch\": 2653,\n\t\"./de-ch.js\": 2653,\n\t\"./de.js\": 46061,\n\t\"./dv\": 85,\n\t\"./dv.js\": 85,\n\t\"./el\": 8579,\n\t\"./el.js\": 8579,\n\t\"./en-au\": 25724,\n\t\"./en-au.js\": 25724,\n\t\"./en-ca\": 10525,\n\t\"./en-ca.js\": 10525,\n\t\"./en-gb\": 52847,\n\t\"./en-gb.js\": 52847,\n\t\"./en-ie\": 67216,\n\t\"./en-ie.js\": 67216,\n\t\"./en-il\": 39305,\n\t\"./en-il.js\": 39305,\n\t\"./en-in\": 73364,\n\t\"./en-in.js\": 73364,\n\t\"./en-nz\": 79130,\n\t\"./en-nz.js\": 79130,\n\t\"./en-sg\": 11161,\n\t\"./en-sg.js\": 11161,\n\t\"./eo\": 50802,\n\t\"./eo.js\": 50802,\n\t\"./es\": 40328,\n\t\"./es-do\": 45551,\n\t\"./es-do.js\": 45551,\n\t\"./es-mx\": 75615,\n\t\"./es-mx.js\": 75615,\n\t\"./es-us\": 64790,\n\t\"./es-us.js\": 64790,\n\t\"./es.js\": 40328,\n\t\"./et\": 96389,\n\t\"./et.js\": 96389,\n\t\"./eu\": 52961,\n\t\"./eu.js\": 52961,\n\t\"./fa\": 26151,\n\t\"./fa.js\": 26151,\n\t\"./fi\": 7997,\n\t\"./fi.js\": 7997,\n\t\"./fil\": 58898,\n\t\"./fil.js\": 58898,\n\t\"./fo\": 37779,\n\t\"./fo.js\": 37779,\n\t\"./fr\": 28174,\n\t\"./fr-ca\": 3287,\n\t\"./fr-ca.js\": 3287,\n\t\"./fr-ch\": 38867,\n\t\"./fr-ch.js\": 38867,\n\t\"./fr.js\": 28174,\n\t\"./fy\": 50452,\n\t\"./fy.js\": 50452,\n\t\"./ga\": 45014,\n\t\"./ga.js\": 45014,\n\t\"./gd\": 74127,\n\t\"./gd.js\": 74127,\n\t\"./gl\": 72124,\n\t\"./gl.js\": 72124,\n\t\"./gom-deva\": 6444,\n\t\"./gom-deva.js\": 6444,\n\t\"./gom-latn\": 37953,\n\t\"./gom-latn.js\": 37953,\n\t\"./gu\": 76604,\n\t\"./gu.js\": 76604,\n\t\"./he\": 1222,\n\t\"./he.js\": 1222,\n\t\"./hi\": 74235,\n\t\"./hi.js\": 74235,\n\t\"./hr\": 622,\n\t\"./hr.js\": 622,\n\t\"./hu\": 37735,\n\t\"./hu.js\": 37735,\n\t\"./hy-am\": 90402,\n\t\"./hy-am.js\": 90402,\n\t\"./id\": 59187,\n\t\"./id.js\": 59187,\n\t\"./is\": 30536,\n\t\"./is.js\": 30536,\n\t\"./it\": 35007,\n\t\"./it-ch\": 94667,\n\t\"./it-ch.js\": 94667,\n\t\"./it.js\": 35007,\n\t\"./ja\": 62093,\n\t\"./ja.js\": 62093,\n\t\"./jv\": 80059,\n\t\"./jv.js\": 80059,\n\t\"./ka\": 66870,\n\t\"./ka.js\": 66870,\n\t\"./kk\": 80880,\n\t\"./kk.js\": 80880,\n\t\"./km\": 1083,\n\t\"./km.js\": 1083,\n\t\"./kn\": 68785,\n\t\"./kn.js\": 68785,\n\t\"./ko\": 21721,\n\t\"./ko.js\": 21721,\n\t\"./ku\": 37851,\n\t\"./ku.js\": 37851,\n\t\"./ky\": 1727,\n\t\"./ky.js\": 1727,\n\t\"./lb\": 40346,\n\t\"./lb.js\": 40346,\n\t\"./lo\": 93002,\n\t\"./lo.js\": 93002,\n\t\"./lt\": 64035,\n\t\"./lt.js\": 64035,\n\t\"./lv\": 56927,\n\t\"./lv.js\": 56927,\n\t\"./me\": 5634,\n\t\"./me.js\": 5634,\n\t\"./mi\": 94173,\n\t\"./mi.js\": 94173,\n\t\"./mk\": 86320,\n\t\"./mk.js\": 86320,\n\t\"./ml\": 11705,\n\t\"./ml.js\": 11705,\n\t\"./mn\": 31062,\n\t\"./mn.js\": 31062,\n\t\"./mr\": 92805,\n\t\"./mr.js\": 92805,\n\t\"./ms\": 11341,\n\t\"./ms-my\": 59900,\n\t\"./ms-my.js\": 59900,\n\t\"./ms.js\": 11341,\n\t\"./mt\": 37734,\n\t\"./mt.js\": 37734,\n\t\"./my\": 19034,\n\t\"./my.js\": 19034,\n\t\"./nb\": 9324,\n\t\"./nb.js\": 9324,\n\t\"./ne\": 46495,\n\t\"./ne.js\": 46495,\n\t\"./nl\": 70673,\n\t\"./nl-be\": 76272,\n\t\"./nl-be.js\": 76272,\n\t\"./nl.js\": 70673,\n\t\"./nn\": 72486,\n\t\"./nn.js\": 72486,\n\t\"./oc-lnc\": 46219,\n\t\"./oc-lnc.js\": 46219,\n\t\"./pa-in\": 2829,\n\t\"./pa-in.js\": 2829,\n\t\"./pl\": 78444,\n\t\"./pl.js\": 78444,\n\t\"./pt\": 53170,\n\t\"./pt-br\": 66117,\n\t\"./pt-br.js\": 66117,\n\t\"./pt.js\": 53170,\n\t\"./ro\": 96587,\n\t\"./ro.js\": 96587,\n\t\"./ru\": 39264,\n\t\"./ru.js\": 39264,\n\t\"./sd\": 42135,\n\t\"./sd.js\": 42135,\n\t\"./se\": 95366,\n\t\"./se.js\": 95366,\n\t\"./si\": 93379,\n\t\"./si.js\": 93379,\n\t\"./sk\": 46143,\n\t\"./sk.js\": 46143,\n\t\"./sl\": 196,\n\t\"./sl.js\": 196,\n\t\"./sq\": 21082,\n\t\"./sq.js\": 21082,\n\t\"./sr\": 91621,\n\t\"./sr-cyrl\": 98963,\n\t\"./sr-cyrl.js\": 98963,\n\t\"./sr.js\": 91621,\n\t\"./ss\": 41404,\n\t\"./ss.js\": 41404,\n\t\"./sv\": 55685,\n\t\"./sv.js\": 55685,\n\t\"./sw\": 3872,\n\t\"./sw.js\": 3872,\n\t\"./ta\": 54106,\n\t\"./ta.js\": 54106,\n\t\"./te\": 39204,\n\t\"./te.js\": 39204,\n\t\"./tet\": 83692,\n\t\"./tet.js\": 83692,\n\t\"./tg\": 86361,\n\t\"./tg.js\": 86361,\n\t\"./th\": 31735,\n\t\"./th.js\": 31735,\n\t\"./tk\": 1568,\n\t\"./tk.js\": 1568,\n\t\"./tl-ph\": 96129,\n\t\"./tl-ph.js\": 96129,\n\t\"./tlh\": 13759,\n\t\"./tlh.js\": 13759,\n\t\"./tr\": 81644,\n\t\"./tr.js\": 81644,\n\t\"./tzl\": 90875,\n\t\"./tzl.js\": 90875,\n\t\"./tzm\": 16878,\n\t\"./tzm-latn\": 11041,\n\t\"./tzm-latn.js\": 11041,\n\t\"./tzm.js\": 16878,\n\t\"./ug-cn\": 74357,\n\t\"./ug-cn.js\": 74357,\n\t\"./uk\": 74810,\n\t\"./uk.js\": 74810,\n\t\"./ur\": 86794,\n\t\"./ur.js\": 86794,\n\t\"./uz\": 28966,\n\t\"./uz-latn\": 77959,\n\t\"./uz-latn.js\": 77959,\n\t\"./uz.js\": 28966,\n\t\"./vi\": 35386,\n\t\"./vi.js\": 35386,\n\t\"./x-pseudo\": 23156,\n\t\"./x-pseudo.js\": 23156,\n\t\"./yo\": 68028,\n\t\"./yo.js\": 68028,\n\t\"./zh-cn\": 9330,\n\t\"./zh-cn.js\": 9330,\n\t\"./zh-hk\": 89380,\n\t\"./zh-hk.js\": 89380,\n\t\"./zh-mo\": 60874,\n\t\"./zh-mo.js\": 60874,\n\t\"./zh-tw\": 96508,\n\t\"./zh-tw.js\": 96508\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"sourceRoot":"webpack:///"}